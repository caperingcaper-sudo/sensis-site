<!DOCTYPE html>
<html lang="en" data-lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Markdown-like Form • Minimal</title>

  <!-- 字体：英文打字机感；中/日用 Noto Serif -->
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;600&display=swap" rel="stylesheet">

  <style>
  /* ========== 你可以在这三行替换字体 ========== */
  :root{
    --md-font-en: "Courier Prime", ui-serif, Georgia, serif; /* 英文：打字机感 */
    --md-font-zh: "Noto Serif SC", ui-serif, "PingFang SC", "Songti SC", serif;
    --md-font-ja: "Noto Serif JP", ui-serif, "Hiragino Mincho ProN", "Yu Mincho", serif;
    --md-ink:#1f1f1f; --md-muted:#6b6b6b; --md-accent:#495f4d; --md-rule:#dcdcdc;
  }

  /* 仅正文（Markdown-like）样式 */
  body{
    margin:0; padding: 24px clamp(16px, 4vw, 40px);
    color:var(--md-ink); line-height:1.7; background:#fff;
    font-family: var(--md-font-en);
  }
  /* 中文/日文切换（如果你动态改 <html lang> 就能自动切） */
  html[lang="zh"], html[data-lang="cn"] body{ font-family: var(--md-font-zh); }
  html[lang="ja"], html[data-lang="jp"] body{ font-family: var(--md-font-ja); }

  .md{ max-width: 820px; margin: 0 auto; }

  .md h1,.md h2,.md h3,.md h4{ line-height:1.25; margin: 1.2em 0 .5em; font-weight:700; }
  .md h1{ font-size: clamp(28px, 5vw, 40px); }
  .md h2{ font-size: clamp(22px, 3.8vw, 28px); border-bottom:1px solid var(--md-rule); padding-bottom:.2em; }
  .md h3{ font-size: clamp(18px, 2.8vw, 22px); }
  .md p{ margin:.8em 0; }
  .md ul,.md ol{ padding-left: 1.2em; margin:.6em 0 1em; }
  .md li{ margin:.25em 0; }
  .md hr{ border:0; border-top:1px solid var(--md-rule); margin: 1.4em 0; }
  .md em{ font-style: italic; }
  .md strong{ font-weight:700; }

  /* 行内代码/代码块（如果以后需要） */
  .md code{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Courier New", monospace; font-size:.95em; background:#fafafa; padding:.15em .35em; border:1px solid #eee; border-radius:4px; }
  .md pre{ background:#fafafa; border:1px solid #eee; padding: 12px 14px; border-radius:8px; overflow:auto; }
  .md pre code{ background:transparent; border:none; padding:0; }

  /* 表单控件：保持 Markdown 清爽风格 */
  .md form{ margin-top: 1.2em; }
  .md .field{ margin:.6em 0; }

  /* 每个选项一行 + 悬停淡底 */
  .md label{
    display:block;
    padding:.25em .2em;
    border-radius:6px;
    cursor:pointer;
    transition: background .15s ease, color .15s ease, text-decoration-color .15s ease;
  }
  .md label:is(:hover,:focus-within){ background:#fafafa; }

  /* 复选/单选外观色 */
  .md input[type="checkbox"],
  .md input[type="radio"]{
    width:18px; height:18px; margin-top:.25em; margin-right:.6em;
    accent-color: var(--md-accent);
  }

  .md .hint{ color:var(--md-muted); font-size:.92em; margin:.2em 0 0 1.9em; }

  /* ✅ 选中态：主题色 + 加粗下划线（关键） */
  .md label:has(input:checked){
    color: var(--md-accent);
    text-decoration: underline;
    text-decoration-thickness: 2px;
    text-underline-offset: 2px;
    text-decoration-color: color-mix(in srgb, var(--md-accent) 70%, transparent);
  }

  /* 提交/导出按钮 */
  .md .actions{ margin-top: 1em; display:flex; gap:10px; }
  .md button{
    border:1px solid var(--md-rule); background:#fff; color:var(--md-ink);
    padding:8px 14px; border-radius:10px; cursor:pointer;
  }
  .md button.primary{ border-color:var(--md-accent); background:var(--md-accent); color:#fff; }
  .md button:hover{ filter:brightness(.97); }

  /* 导出结果展示 */
  .md .out{
    margin-top: 1em; background:#fafafa; border:1px solid #eee; border-radius:8px; padding:10px 12px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Courier New", monospace;
    font-size:.95em; white-space:pre-wrap;
  }
  </style>
</head>
<body>
  <div class="md">
    <h1>Question Intake</h1>
    <p>用<strong>Markdown 风格</strong>排版做问卷：清爽、可读，同时有必要的输入控件。</p>

    <h2>基本信息 / Basics</h2>
    <form id="intake">
      <div class="field">
        <div><strong>我现在的主要目标 / Goal</strong></div>
        <label><input type="radio" name="goal" value="entrance"> 通过笔试（Entrance exam）</label>
        <label><input type="radio" name="goal" value="research"> 完成研究计划书（Research plan）</label>
        <label><input type="radio" name="goal" value="language"> 语言成绩提升（Language score）</label>
        <label><input type="radio" name="goal" value="other"> 其他（Other）</label>
      </div>

      <div class="field">
        <div><strong>学习语言 / Languages</strong> <span class="hint">多选</span></div>
        <label><input type="checkbox" name="langs[]" value="en"> English</label>
        <label><input type="checkbox" name="langs[]" value="zh"> 中文</label>
        <label><input type="checkbox" name="langs[]" value="jp"> 日本語</label>
      </div>

      <div class="field">
        <div><strong>每周可用时间（h）/ Weekly hours</strong></div>
        <label><input type="radio" name="hours" value="<=5"> ≤ 5</label>
        <label><input type="radio" name="hours" value="6-10"> 6–10</label>
        <label><input type="radio" name="hours" value="11-20"> 11–20</label>
        <label><input type="radio" name="hours" value=">20"> ＞20</label>
      </div>

      <div class="field">
        <div><strong>一句话说明你的问题 / Your seed question</strong></div>
        <textarea name="seed" rows="3" style="width:100%;padding:8px;border:1px solid #e5e5e5;border-radius:8px;font-family:inherit;"></textarea>
      </div>

      <div class="actions">
        <button type="button" class="primary" onclick="exportJSON()">导出为 JSON</button>
        <button type="reset">重置</button>
      </div>
    </form>

    <div id="out" class="out" aria-live="polite"></div>

    <hr>
    <h3>说明</h3>
    <ul>
      <li>排版只覆盖正文，不需要你的“纸面框架”或侧栏。</li>
      <li>字体：英文是打字机味道（Courier Prime），中/日是 Noto Serif；在上面 <code>:root</code> 三行随时替换。</li>
      <li>控件：用浏览器原生 <code>accent-color</code> 着色，风格干净、易维护。</li>
      <li>“导出为 JSON”演示如何把结果序列化；集成时把 <code>exportJSON()</code> 改为你自己的保存/计算即可。</li>
    </ul>
  </div>

  <script>
  // 把表单序列化成 JSON（支持 name="xxx[]" 的多选数组）
  function formToJSON(form){
    const fd = new FormData(form);
    const out = {};
    for (const [k, v] of fd.entries()){
      if (k.endsWith('[]')){
        const key = k.slice(0, -2);
        (out[key] ||= []).push(v);
      } else if (out[k] !== undefined){
        out[k] = Array.isArray(out[k]) ? out[k].concat(v) : [out[k], v];
      } else {
        out[k] = v;
      }
    }
    return out;
  }

  function exportJSON(){
    const form = document.getElementById('intake');
    const data = formToJSON(form);
    document.getElementById('out').textContent = JSON.stringify(data, null, 2);
  }
  </script>
</body>
</html>
