/* ===== Paper v1 (scoped; 不影响其它页面) ===================== */
.paperv1{
  /* —— 桌面默认（A4 观感） —— */
  --paperv1-width: 920px;             /* 可调 860–980 */
  --paperv1-pad-x-desktop: 20mm;      /* 正文左右 20mm */
  --paperv1-pad-x-mobile: 16px;       /* 手机左右内边距 */

  /* 桌面：标题悬浮所需的底部留白（让正文从副标题下方开始） */
  --pv1-header-space: 240px;

  /* 桌面：主/副标题位置（右对齐、浮在图上） */
  --paperv1-h1-font: "Times New Roman", Times, serif;
  --paperv1-sub-font: "Times New Roman", Times, serif;
  --paperv1-h1-size: 30px;
  --paperv1-sub-size: 21px;
  --paperv1-h1-right: 45px;
  --paperv1-sub-right: 45px;
  --paperv1-h1-top:  128px;
  --paperv1-sub-top: 150px;

  /* 纸面观感 */
  --paperv1-edge-color: rgba(0,0,0,.06);
  --paperv1-shadow-1: 0 6px 22px rgba(0,0,0,.08);
  --paperv1-shadow-2: 0 2px 6px rgba(0,0,0,.05);
  --paperv1-inner-vignette: rgba(0,0,0,.045);

  position: relative;
width: 100%;
max-width: var(--paperv1-width);
  
  margin: 0 auto;
  background:#fff;
  border: 1px solid var(--paperv1-edge-color);
  border-radius: 0;
  box-shadow: var(--paperv1-shadow-1), var(--paperv1-shadow-2);
  overflow: hidden;
}

/* 内侧极淡晕影，让纸更“立体” */
.paperv1::before{
  content:"";
  position:absolute; inset:0;
  pointer-events:none;
  background:
    radial-gradient(120% 80% at 50% -10%, transparent 60%, var(--paperv1-inner-vignette) 100%),
    radial-gradient(120% 80% at 50% 110%, transparent 60%, var(--paperv1-inner-vignette) 100%);
  mix-blend-mode:multiply;
  opacity:.55;
}

/* 头图 + 悬浮标题区（桌面默认行为） */
.paperv1-header{ position: relative; isolation: isolate; padding-bottom: var(--pv1-header-space); }

.paperv1-art{ width:100%; height:auto; display:block; user-select:none; -webkit-user-drag:none; }
.paperv1-art.desktop{ display:block; }    /* 桌面显示 paper-2 */
.paperv1-art.-mobile{ display:none; }     /* 桌面隐藏 paper-3 */

/* 桌面：主/副标题“浮在图上”，右对齐 */
.paperv1-title,
.paperv1-sub{
  position:absolute;
  margin:0;
  right: 0;
  text-align:right;
  pointer-events:none;
  color:#1f1f1f;
  text-shadow:0 1px 2px rgba(0,0,0,.06);
}
.paperv1-title{
  top: var(--paperv1-h1-top);
  right: var(--paperv1-h1-right);
  font-family: var(--paperv1-h1-font);
  font-weight: 700;
  font-size: var(--paperv1-h1-size);
  line-height:1.12;
}
.paperv1-sub{
  top: var(--paperv1-sub-top);
  right: var(--paperv1-sub-right);
  font-family: var(--paperv1-sub-font);
  font-size: var(--paperv1-sub-size);
  color:#555;
}

/* 正文（白纸主体区域） */
.paperv1-body{ padding: 16px var(--paperv1-pad-x-desktop) 36px; }

/* ========== 手机 / 窄屏（<=960px）：只改手机！ ========== */
@media (max-width: 960px){

  /* 1) 切换头图：隐藏桌面图，显示手机图（paper-3） */
  .paperv1-art.desktop{ display:none; }
  .paperv1-art.-mobile{ display:block; }

  /* 2) 纸张整体稍上移；去掉阴影（和你当前一致） */
  .paperv1{
    margin-top: 12px;
    width: min(720px, 100%);
    box-shadow: none;
  }

  /* 3) 手机标题与副标题：不再悬浮，放在图“下面”，并居中 */
  .paperv1-header{ padding-bottom: 0; }   /* 取消桌面的留白 */

  .paperv1-title,
  .paperv1-sub{
    position: static;              /* 关键：由 absolute 改为常规流 */
    text-align: center;
    width: auto;
    margin: 10px 16px 0;           /* 与头图的间距 */
    pointer-events:auto;           /* 允许选中文本 */
  }
  .paperv1-title{ font-size: 28px; }
  .paperv1-sub  { font-size: 16px; }

  /* 4) 正文左右内边距用手机值 */
  .paperv1-body{ padding-inline: var(--paperv1-pad-x-mobile); }
}

/* 打印：去掉阴影与圆角，更像 A4 */
@media print{
  .paperv1{
    border:1px solid #ccc;
    box-shadow:none;
    border-radius:0;
  }
  .paperv1::before{ display:none; }
}

/* ===== Markdown-like form 仅作用于 .paperv1 内的 .md ===================== */

/* 字体族变量（可按需覆写） */
.paperv1{
  --md-font-en:"Courier Prime", ui-serif, Georgia, serif;
  --md-font-zh:"Noto Serif SC", ui-serif, "PingFang SC","Songti SC", serif;
  --md-font-ja:"Noto Serif JP", ui-serif, "Hiragino Mincho ProN","Yu Mincho", serif;
  --md-ink:#1f1f1f; --md-muted:#6b6b6b; --md-accent:#495f4d; --md-rule:#dcdcdc;
}
/* 正文容器（只影响纸面里的 .md） */
.paperv1 .md{ max-width: 820px; margin: 0 auto; color: var(--md-ink); line-height: 1.7; }

/*デフォルト英語 → 言語別で上書き */
.paperv1 .md{ font-family: var(--md-font-en); }
html[lang="zh"] .paperv1 .md,
html[data-lang="cn"] .paperv1 .md{ font-family: var(--md-font-zh); }
html[lang="ja"] .paperv1 .md,
html[data-lang="jp"] .paperv1 .md{ font-family: var(--md-font-ja); }

.paperv1 .md h1,.paperv1 .md h2,.paperv1 .md h3{ line-height:1.25; margin:1.2em 0 .5em; font-weight:700; }
.paperv1 .md h1{ font-size:clamp(30px,5vw,40px); }
.paperv1 .md h2{ font-size:clamp(25px,3.8vw,28px); border-bottom:1px solid var(--md-rule); padding-bottom:.2em; }
.paperv1 .md h3{ font-size:clamp(18px,2.8vw,22px); }
.paperv1 .md p{ margin:.8em 0; }
.paperv1 .md ul{ padding-left:1.2em; margin:.6em 0 1em; }
.paperv1 .md form{ margin-top:1.2em; }
.paperv1 .md .field{ margin:.6em 0; }

/* 每个选项一行 + 悬停淡底 */
.paperv1 .md label{
  display:block; padding:.25em .2em; border-radius:6px; cursor:pointer; transition:background .15s;
}
.paperv1 .md label:is(:hover,:focus-within){ background:#fafafa; }

/* 原生控件可见，主题色 */
.paperv1 .md input[type="radio"], .paperv1 .md input[type="checkbox"]{
  width:18px; height:18px; margin-top:.25em; margin-right:.6em; accent-color:var(--md-accent);
}

.paperv1 .md .hint{ color:var(--md-muted); font-size:.92em; margin:.2em 0 0 1.9em; }

.paperv1 .md .actions{ margin-top:1em; display:flex; gap:10px; }
.paperv1 .md button{
  border:1px solid var(--md-rule); background:#fff; color:var(--md-ink);
  padding:8px 14px; border-radius:10px; cursor:pointer;
}
.paperv1 .md button.primary{ border-color:var(--md-accent); background:var(--md-accent); color:#fff; }
.paperv1 .md .out{
  margin-top:1em; background:#fafafa; border:1px solid #eee; border-radius:8px; padding:10px 12px;
  font-family: ui-monospace, Menlo, Consolas, monospace; font-size:.95em; white-space:pre-wrap;
}

/* 多列选项（桌面分列，手机自动单列） */
.md .options{ display: grid; gap: 6px 16px; align-items: start; }
.md .options.cols-2{ grid-template-columns: repeat(2, minmax(0,1fr)); }
.md .options.cols-3{ grid-template-columns: repeat(3, minmax(0,1fr)); }
.md .options > label{ display:flex; padding:.2em .1em; border-radius:6px; }
  @media (max-width: 760px){ .md .options{ grid-template-columns: 1fr !important; } }
  
  /* ===== iPad 横屏（介于手机与桌面之间）的细化 ===== */
@media (min-width: 960px) and (max-width: 1180px){
  .paperv1{
    /* 跟着容器走，不再用视口计算（安全） */
    width: 100%;
    max-width: 900px;                 /* 你可以调 860–920 */
  }

  /* 减少头图区底部留白，让 .md 更靠近副标题 */
  .paperv1-header{ padding-bottom: 180px; }  /* 原来 240px */

  /* 让标题组更贴近右侧但不过界，字号保持不变 */
  .paperv1-title{ top: 125px; right: 28px; }
  .paperv1-sub  { top: 152px; right: 28px; }

  /* 正文左右略收一点，视觉更紧凑 */
  .paperv1-body{ padding-inline: 18mm; }
}

/* md 用主/副タイトル */
.md-head{ margin: 8px auto 18px; padding-bottom: 8px; border-bottom:1px solid var(--md-rule); }
.md-title{ margin:0; font-size:clamp(24px, 4.2vw, 32px); line-height:1.2; }
.md-sub{ margin:.4em 0 0; color:var(--md-muted); font-size:clamp(14px, 2.4vw, 16px); }

/* ===== Paper md 标题整合样式（放在 paperV2.css 最后） ===== */

/* md 头部容器（可选） */
.paperv1 .md .md-head{
  margin: 8px auto 18px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--md-rule);
}

/* md 主标题：使用 md 区域字体，不吃全站 h1 的脚本体 */
.paperv1 .md .md-title{
  font-family: inherit !important;   /* 继承 .paperv1 .md 的语言字体 */
  font-weight: 700;
  text-shadow: none !important;
  letter-spacing: 0;
  margin: 0 0 .2em;
  font-size: clamp(24px, 4.2vw, 32px);
  line-height: 1.2;
}

/* md 副标题 */
.paperv1 .md .md-sub{
  font-family: inherit !important;
  text-shadow: none !important;
  color: var(--md-muted);
  font-size: clamp(14px, 2.4vw, 16px);
  margin: .4em 0 0;
}

/* 兜底：md 区域内的所有 h1~h3 一律回到 md 字体，去掉阴影
  （避免将来新增的标题被全站样式污染） */
.paperv1 .md h1,
.paperv1 .md h2,
.paperv1 .md h3{
  font-family: inherit !important;
  text-shadow: none !important;
}
